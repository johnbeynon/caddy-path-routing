<html>
    <head>
        <title>Proxy</title>
        <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    </head>
    <body>
        <h1 class="text-3xl font-bold">Hello from Caddy!</h1>
        <p>This is a demo proxy server configuration from <a href="https://github.com/johnbeynon/caddy-path-routing">https://github.com/johnbeynon/caddy-path-routing</a>   </p>
        <p>It deploys 3 services, a Caddy proxy which is serving this file and 2 skeleton Node 'apps'</p>

        <h2 class="text-2xl font-semibold">Demo: Jump to a proxied service:</h2>
        <ul class="list-disc pl-5">
            <li><a class="text-blue-500 hover:underline" href="/app1">App 1</a></li>
            <li><a class="text-blue-500 hover:underline" href="/app2">App 2</a></li>
        </ul>

        <p class="mt-3">Caddyfile contents:</p>
        <pre >
        <code class="block mt-2 p-3 bg-gray-100 border border-gray-300 rounded">
            http:// {

                redir /app1 /app1/
                redir /app2 /app2/

                handle_path /app1/* {
                    reverse_proxy http://app1:10000
                }

                handle_path /app2/* {
                    reverse_proxy http://app2:10000
                }

                handle {
                    root * /usr/share/caddy
                    file_server
                    try_files {path} /index.html
                }

                log {
                    output stdout
                }
            }
        </code>
        </pre>
    </body>
</html>
